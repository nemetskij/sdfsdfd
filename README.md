# NemetskijVPN Telegram Bot

–≠—Ç–æ—Ç –±–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏ VPN-–ø–æ–¥–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å 3x-ui.

---

## üöÄ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –Ω–∞ VPS (Ubuntu / Debian)

–í–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ PuTTY –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª Mac/Linux).

### –®–∞–≥ 1. –ü–µ—Ä–µ–Ω–æ—Å —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
–°–Ω–∞—á–∞–ª–∞ –≤–∞–º –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±–æ—Ç–∞ –Ω–∞ –≤–∞—à VPS. –í—ã –º–æ–∂–µ—Ç–µ:
*   –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ SFTP (—á–µ—Ä–µ–∑ FileZilla –∏–ª–∏ MobaXterm).
*   –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –ø—Ä–∏–≤–∞—Ç–Ω—É—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub –∏ —Å–¥–µ–ª–∞—Ç—å `git clone`.

–î–æ–ø—É—Å—Ç–∏–º, —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ –ø–∞–ø–∫—É `/home/nemetskij/nemetskij_vpn`.

### –®–∞–≥ 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ–≤–µ—Ä—É –∏ –ø–æ –æ—á–µ—Ä–µ–¥–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

1. –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã (Python 3, pip, venv):
```bash
sudo apt update
sudo apt install python3 python3-pip python3-venv screen -y
```

2. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º –±–æ—Ç–æ–º:
```bash
cd /home/nemetskij/nemetskij_vpn
```

3. –°–æ–∑–¥–∞–µ–º –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python3 -m venv venv
```

4. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –µ–≥–æ:
```bash
source venv/bin/activate
```
*(–£ –≤–∞—Å –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞–¥–ø–∏—Å—å `(venv)`)*

5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –Ω—É–∂–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
```bash
pip install -r requirements.txt
```

### –®–∞–≥ 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞
–í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –≤–∞—à–∏–º–∏ –±–æ–µ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ):
```bash
nano .env
```
2. –í—Å—Ç–∞–≤—å—Ç–µ —Ç—É–¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```env
BOT_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_–û–¢_BOTFATHER
XUI_URL=http://–ê–ô–ü–ò_–í–ê–®–ï–ô_–ü–ê–ù–ï–õ–ò:–ü–û–†–¢
XUI_USERNAME=–õ–û–ì–ò–ù_–û–¢_–ü–ê–ù–ï–õ–ò
XUI_PASSWORD=–ü–ê–†–û–õ–¨_–û–¢_–ü–ê–ù–ï–õ–ò
PAYMENT_PROVIDER_TOKEN=
```
3. –ù–∞–∂–º–∏—Ç–µ `Ctrl+O`, –∑–∞—Ç–µ–º `Enter` (–¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è) –∏ `Ctrl+X` (–¥–ª—è –≤—ã—Ö–æ–¥–∞).

---

### –®–∞–≥ 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ—Å–ø–µ—Ä–µ–±–æ–π–Ω–æ–π —Ä–∞–±–æ—Ç—ã (–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫)

–ß—Ç–æ–±—ã –±–æ—Ç —Ä–∞–±–æ—Ç–∞–ª 24/7 –∏ —Å–∞–º –∑–∞–ø—É—Å–∫–∞–ª—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞, —Å–æ–∑–¥–∞–¥–∏–º —Å–ª—É–∂–±—É `systemd`.

1. –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª —Å–ª—É–∂–±—ã:
```bash
sudo nano /etc/systemd/system/nemetskij_vpn.service
```

2. –í—Å—Ç–∞–≤–ª—è–µ–º –≤ –Ω–µ–≥–æ —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç (–µ—Å–ª–∏ –±–æ—Ç –ª–µ–∂–∏—Ç –≤ `/home/nemetskij/nemetskij_vpn`):
```ini
[Unit]
Description=Nemetskij VPN Telegram Bot
After=network.target

[Service]
User=nemetskij
Group=nemetskij
WorkingDirectory=/home/nemetskij/nemetskij_vpn
Environment="PATH=/home/nemetskij/nemetskij_vpn/venv/bin"
ExecStart=/home/nemetskij/nemetskij_vpn/venv/bin/python /home/nemetskij/nemetskij_vpn/bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```
*–ù–∞–∂–º–∏—Ç–µ `Ctrl+O` -> `Enter` -> `Ctrl+X`*

3. –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º:
```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä —Å–ª—É–∂–±
sudo systemctl daemon-reload

# –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
sudo systemctl enable nemetskij_vpn

# –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
sudo systemctl start nemetskij_vpn
```

4. –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:
```bash
sudo systemctl status nemetskij_vpn
```
–ò–ª–∏ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
sudo journalctl -u nemetskij_vpn -f
```

---

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
- **–ó—É–º–µ—Ä—Å–∫–∏–π –≤–∞–π–±**: –¢–µ–∫—Å—Ç—ã –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã –≤ –º–æ–ª–æ–¥–µ–∂–Ω–æ–º —Å—Ç–∏–ª–µ.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 3x-ui**: –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `vless://` —Å—Å—ã–ª–∫–∏.
- **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: –ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–≥–∞ -> –ø–æ–ª—É—á–∏ 50 —Ä. –Ω–∞ –±–∞–ª–∞–Ω—Å.
- **SQLite –ë–î**: –õ–µ–≥–∫–∏–π —Å—Ç–∞—Ä—Ç –±–µ–∑ –ø–æ–¥–Ω—è—Ç–∏—è —Å–ª–æ–∂–Ω—ã—Ö –±–∞–∑, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª `database.sqlite3`.
